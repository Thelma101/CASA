const savingsAccounts = []; // Mock database for savings accounts

// Withdraw from Savings Account
exports.withdrawFromSavingsAccount = (req, res) => {
    const accountId = req.params.id;
    const { amount } = req.body;

    if (!amount || amount <= 0) {
        return res.status(400).send({ message: "Invalid withdrawal amount" });
    }

    // Find the savings account by ID
    const account = savingsAccounts.find(a => a.id === accountId);

    if (!account) {
        return res.status(404).send({ message: "Savings account not found" });
    }

    if (account.balance < amount) {
        return res.status(400).send({ message: "Insufficient balance" });
    }

    // Deduct the amount from the account balance
    account.balance -= amount;

    res.send({
        message: "Withdrawal successful",
        balance: account.balance,
        withdrawn: amount
    });
};
